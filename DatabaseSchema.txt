CREATE TABLE ADMIN
(
UserName VARCHAR2(10) CONSTRAINT ADMIN_PK PRIMARY KEY,
Password VARCHAR2(100) NOT NULL
)









CREATE TABLE GENRE
(
ID NUMBER CONSTRAINT GENRE_PK PRIMARY KEY,
Title VARCHAR2(15) UNIQUE NOT NULL
)









CREATE TABLE AWARD
(
ID NUMBER CONSTRAINT AWARD_PK PRIMARY KEY,
Title VARCHAR2(15) NOT NULL,
AwardDescription VARCHAR2(30) NOT NULL,
AwardReciever VARCHAR2(10) NOT NULL CHECK (AwardReciever IN ('Actor','Director','Movie'))
)









CREATE TABLE LANGUAGE
(
ID NUMBER CONSTRAINT LANGUAGE_PK PRIMARY KEY,
Title VARCHAR2(15) UNIQUE NOT NULL
)









CREATE TABLE USERS
(
ID NUMBER CONSTRAINT USER_PK PRIMARY KEY,
UserName VARCHAR2(30) UNIQUE NOT NULL,
Email VARCHAR2(30)UNIQUE NOT NULL,
Bio VARCHAR2(100),
Avatar VARCHAR2(100),
Password VARCHAR2(100) NOT NULL,
CreationDate DATE DEFAULT SYSDATE
) 









CREATE TABLE MOVIE
(
ID NUMBER CONSTRAINT MOVIE_PK PRIMARY KEY,
Title VARCHAR2(15) NOT NULL,
Duration NUMBER NOT NULL,
CoverPhoto VARCHAR2(100) NOT NULL,
Trailer VARCHAR2(100),
Description VARCHAR2(200) NOT NULL,
ReleaseDate DATE NOT NULL,
BoxOfficeEst NUMBER NOT NULL,
Country VARCHAR2(25) NOT NULL,
Language VARCHAR2(15) NOT NULL,
AvgRating NUMBER DEFAULT 0,
CONSTRAINT LANGUAGE_FK FOREIGN KEY(Language) REFERENCES LANGUAGE(Title)
)


CREATE TABLE MOVIE
(
ID NUMBER CONSTRAINT MOVIE_PK PRIMARY KEY,
Title VARCHAR2(15) NOT NULL,
Duration NUMBER NOT NULL,
CoverPhoto VARCHAR2(100) NOT NULL,
Poster VARCHAR2(100) NOT NULL,
Description VARCHAR2(200) NOT NULL,
ReleaseDate DATE NOT NULL,
Country VARCHAR2(25) NOT NULL,
Language VARCHAR2(15) NOT NULL,
AvgRating NUMBER DEFAULT 0,
CONSTRAINT LANGUAGE_FK FOREIGN KEY(Language) REFERENCES LANGUAGE(Title)
)









CREATE TABLE MOVIE_GENRE
(
MovieID NUMBER,
GenreID NUMBER,
CONSTRAINT MOVIE_FK FOREIGN KEY(MovieID) REFERENCES MOVIE(ID),
CONSTRAINT MOVIE_GENRE_FK FOREIGN KEY(GenreID) REFERENCES GENRE(ID)
)









CREATE TABLE MOVIE_AWARD
(
MovieID NUMBER,
AwardID NUMBER,
CONSTRAINT MOVIE_FK FOREIGN KEY(MovieID) REFERENCES MOVIE(ID),
CONSTRAINT MOVIE_AWARD_FK FOREIGN KEY(AwardID) REFERENCES AWARD(ID),
RecieveDate DATE NOT NULL
)

CREATE TABLE MOVIE_AWARD
(
    MovieID NUMBER,
    AwardID NUMBER,
    RecieveDate DATE NOT NULL,
    CONSTRAINT MOVIE_AWARD_MOVIE_FK FOREIGN KEY (MovieID) REFERENCES MOVIE(ID),
    CONSTRAINT MOVIE_AWARD_AWARD_FK FOREIGN KEY (AwardID) REFERENCES AWARD(ID)
);










CREATE TABLE WATCHLIST
(
MovieID NUMBER ,
UserID NUMBER,
AddedDate DATE DEFAULT SYSDATE,
CONSTRAINT WATCHLIST_MOVIE_FK FOREIGN KEY(MovieID) REFERENCES MOVIE(ID),
CONSTRAINT WATCHLIST_USER_FK FOREIGN KEY(UserID) REFERENCES USER(ID)
)









CREATE TABLE WATCHHISTORY
(
MovieID NUMBER ,
UserID NUMBER,
AddedDate DATE DEFAULT SYSDATE,
CONSTRAINT WATCHLIST_MOVIE_FK FOREIGN KEY(MovieID) REFERENCES MOVIE(ID),
CONSTRAINT WATCHLIST_USER_FK FOREIGN KEY(UserID) REFERENCES USER(ID)
)









CREATE TABLE USER_REVIEW
(
MovieID NUMBER ,
UserID NUMBER,
Heading VARCHAR2(20),
Content VARCHAR2(200),
Rating NUMBER NOT NULL,
AddedDate DATE DEFAULT SYSDATE,
CONSTRAINT WATCHLIST_MOVIE_FK FOREIGN KEY(MovieID) REFERENCES MOVIE(ID),
CONSTRAINT WATCHLIST_USER_FK FOREIGN KEY(UserID) REFERENCES USER(ID)
)









CREATE TABLE CELEB
(
ID NUMBER CONSTRAINT CELEB_PK PRIMARY KEY,
Name VARCHAR2(30) NOT NULL,
Avatar VARCHAR2(100) NOT NULL,
Bio VARCHAR2(100),
Country VARCHAR2(25) NOT NULL
)









CREATE TABLE MOVIE_CELEB
(
MovieID NUMBER,
CelebID NUMBER,
CelebType VARCHAR2(10) CHECK(CelebType IN ('Actor','Director')),
Role VARCHAR2(15) NOT NULL,
CONSTRAINT MOVIE_FK FOREIGN KEY(MovieID) REFERENCES MOVIE(ID),
CONSTRAINT CELEB_FK FOREIGN KEY(CelebID) REFERENCES CELEB(ID)
)


CREATE TABLE MOVIE_CELEB
(
MovieID NUMBER,
CelebID NUMBER,
CelebType VARCHAR2(10) CHECK(CelebType IN ('Actor','Director')),
Role VARCHAR2(15) NOT NULL,
CONSTRAINT MOVIE_CELEB_MOVIE_FK FOREIGN KEY(MovieID) REFERENCES MOVIE(ID),
CONSTRAINT CELEB_FK FOREIGN KEY(CelebID) REFERENCES CELEB(ID)
)









CREATE TABLE CELEB_AWARD
(
MovieID NUMBER,
CelebID NUMBER,
AwardID NUMBER,
CONSTRAINT MOVIE_FK FOREIGN KEY(MovieID) REFERENCES MOVIE(ID),
CONSTRAINT CELEB_FK FOREIGN KEY(CelebID) REFERENCES CELEB(ID),
CONSTRAINT CELEB_AWARD_FK FOREIGN KEY(AwardID) REFERENCES AWARD(ID),
RecieveDate DATE NOT NULL
)

CREATE TABLE CELEB_AWARD
(
MovieID NUMBER,
CelebID NUMBER,
AwardID NUMBER,
RecieveDate DATE NOT NULL,
CONSTRAINT CELEB_AWARD_MOVIE_FK FOREIGN KEY(MovieID) REFERENCES MOVIE(ID),
CONSTRAINT CELEB_AWARD_CELEB_FK FOREIGN KEY(CelebID) REFERENCES CELEB(ID),
CONSTRAINT CELEB_AWARD_FK FOREIGN KEY(AwardID) REFERENCES AWARD(ID)
)